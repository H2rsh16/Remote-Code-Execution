{"ast":null,"code":"import React,{useState}from\"react\";import executeCode from\"./Api\";import{ToastContainer,toast,Bounce}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Output=_ref=>{let{editorRef,language}=_ref;const[output,setOutput]=useState(null);const[isError,setError]=useState(false);const[isLoading,setLoading]=useState(false);const runCode=async()=>{const code=editorRef.current.getValue();if(!code)return;try{setLoading(true);const{run:result}=await executeCode(language,code);setOutput(result.output.split(\"\\n\"));if(result.stderr){setError(true);}else{setError(false);}}catch(error){setOutput(error.message);toast.error(error.message,{position:\"top-center\",autoClose:5000,hideProgressBar:false,closeOnClick:false,pauseOnHover:false,draggable:false,progress:undefined,theme:\"dark\",transition:Bounce});}finally{setLoading(false);}};const exportCode=event=>{const content=output;if(content){const result=`\\ncode : \"\\n${editorRef.current.getValue()}\\n\",\\noutput:  \"\\n\\t${content}\\n\"`;const blob=new Blob([result],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='Output.'+\"txt\";document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);}else{toast.error(\"Run Code first!!\",{position:\"top-center\",autoClose:5000,hideProgressBar:false,closeOnClick:false,pauseOnHover:false,draggable:false,progress:undefined,theme:\"dark\",transition:Bounce});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row bg-zinc-900 w-full py-3 px-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex w-1/2 sm:w-full\",children:isLoading?/*#__PURE__*/_jsxs(\"button\",{className:\"inline-flex justify-center gap-x-1.5 rounded-md bg-gray px-3 py-2 text-sm font-semibold text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-zinc-800 cursor-pointer\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5 animate-spin\",viewBox:\"0 0 24 24\",fill:\"none\",children:[/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M5.02502 12.0002C5.02526 8.66068 7.32548 5.78639 10.519 5.1351C13.7125 4.48382 16.9098 6.23693 18.1557 9.32231C19.4015 12.4077 18.3489 15.966 15.6415 17.8212C12.9341 19.6764 9.32601 19.3117 7.02377 16.9502C5.74387 15.6373 5.02489 13.8568 5.02502 12.0002Z\",stroke:\"#000000\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M13.1819 5.1352C10.2334 4.53373 7.24846 5.98176 5.83137 8.70099C4.41427 11.4202 4.89879 14.7702 7.0245 16.9505C9.15022 19.1307 12.4165 19.6276 15.0677 18.1742C17.719 16.7208 19.1308 13.6593 18.5444 10.6352\",stroke:\"#fff\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Running\"})]}):/*#__PURE__*/_jsx(\"button\",{className:\"inline-flex justify-center gap-x-1.5 rounded-md bg-gray px-3 py-2 text-sm font-semibold text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-zinc-800 cursor-pointer\",onClick:runCode,children:/*#__PURE__*/_jsx(\"span\",{children:\"Run\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-x-1.5\",children:/*#__PURE__*/_jsxs(\"label\",{onClick:exportCode,className:\"flex flex-row rounded-md bg-gray px-3 py-2 text-sm font-semibold text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-zinc-800 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-gray-300\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\"})}),\"Export\"]})})]}),isError?/*#__PURE__*/_jsx(\"div\",{className:\"bg-zinc-800 overflow-y-scroll border-2 rounded-md text-red-500 border-zinc-700 h-60 mt-2 px-2 py-1 \",children:Array.isArray(output)?output.map((line,i)=>/*#__PURE__*/_jsx(\"div\",{children:line},i)):/*#__PURE__*/_jsx(\"div\",{children:\"Click \\\"Run Code\\\" to see output here\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-zinc-800 overflow-y-scroll border-2 rounded-md text-gray-300 border-zinc-700 h-60 mt-2 px-2 py-1 \",children:Array.isArray(output)?output.map((line,i)=>/*#__PURE__*/_jsx(\"div\",{children:line},i)):/*#__PURE__*/_jsx(\"div\",{children:\"Click \\\"Run Code\\\" to see output here\"})}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default Output;","map":{"version":3,"names":["React","useState","executeCode","ToastContainer","toast","Bounce","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Output","_ref","editorRef","language","output","setOutput","isError","setError","isLoading","setLoading","runCode","code","current","getValue","run","result","split","stderr","error","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","transition","exportCode","event","content","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","children","className","viewBox","fill","fillRule","clipRule","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","onClick","Array","isArray","map","line","i"],"sources":["D:/remote-execution-system/src/pages/Output.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport executeCode from \"./Api\";\r\nimport { ToastContainer, toast, Bounce } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n\r\nconst Output = ({editorRef, language}) => {\r\n    const [output, setOutput] = useState(null)\r\n    const [isError, setError] = useState(false)\r\n    const [isLoading, setLoading] = useState(false)\r\n    const runCode = async () => {\r\n        const code = editorRef.current.getValue();\r\n        if(!code) return;\r\n        try{\r\n            setLoading(true)\r\n            const {run: result} = await executeCode(language, code);\r\n            setOutput(result.output.split(\"\\n\"));\r\n            if(result.stderr){\r\n                setError(true)\r\n            }\r\n            else{\r\n                setError(false)\r\n            }\r\n        }\r\n        catch(error){\r\n            setOutput(error.message)\r\n            toast.error(error.message, {\r\n                position: \"top-center\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: false,\r\n                pauseOnHover: false,\r\n                draggable: false,\r\n                progress: undefined,\r\n                theme: \"dark\",\r\n                transition: Bounce,\r\n            });\r\n        }\r\n        finally{\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\nconst exportCode = (event) => {\r\n    const content = output;\r\n\r\n    \r\n    if(content){\r\n        const result = `\\ncode : \"\\n${editorRef.current.getValue()}\\n\",\\noutput:  \"\\n\\t${content}\\n\"`;\r\n        const blob = new Blob([result], { type: 'text/plain' });\r\n        const url = URL.createObjectURL(blob);\r\n        \r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = 'Output.' +\"txt\";\r\n    \r\n        document.body.appendChild(a);\r\n        a.click();\r\n    \r\n        document.body.removeChild(a);\r\n        URL.revokeObjectURL(url);\r\n    }\r\n    else{\r\n        toast.error(\"Run Code first!!\", {\r\n            position: \"top-center\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: false,\r\n            pauseOnHover: false,\r\n            draggable: false,\r\n            progress: undefined,\r\n            theme: \"dark\",\r\n            transition: Bounce,\r\n        });\r\n    }\r\n};\r\n\r\n\r\n    return (\r\n        <>\r\n\r\n            <div className=\"flex flex-row bg-zinc-900 w-full py-3 px-2\">\r\n                <div className=\"flex w-1/2 sm:w-full\">\r\n                {\r\n                    isLoading ?  <button className=\"inline-flex justify-center gap-x-1.5 rounded-md bg-gray px-3 py-2 text-sm font-semibold text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-zinc-800 cursor-pointer\">\r\n                        <svg className=\"w-5 h-5 animate-spin\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.02502 12.0002C5.02526 8.66068 7.32548 5.78639 10.519 5.1351C13.7125 4.48382 16.9098 6.23693 18.1557 9.32231C19.4015 12.4077 18.3489 15.966 15.6415 17.8212C12.9341 19.6764 9.32601 19.3117 7.02377 16.9502C5.74387 15.6373 5.02489 13.8568 5.02502 12.0002Z\" stroke=\"#000000\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                            <path d=\"M13.1819 5.1352C10.2334 4.53373 7.24846 5.98176 5.83137 8.70099C4.41427 11.4202 4.89879 14.7702 7.0245 16.9505C9.15022 19.1307 12.4165 19.6276 15.0677 18.1742C17.719 16.7208 19.1308 13.6593 18.5444 10.6352\" stroke=\"#fff\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                        </svg>\r\n                            <span>Running</span>\r\n                    </button> :\r\n                    <button className=\"inline-flex justify-center gap-x-1.5 rounded-md bg-gray px-3 py-2 text-sm font-semibold text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-zinc-800 cursor-pointer\"\r\n                    onClick={runCode}>\r\n                            <span>Run</span>\r\n                    </button>\r\n                }\r\n                </div>\r\n                <div className=\"flex gap-x-1.5\">\r\n                    <label onClick={exportCode} className=\"flex flex-row rounded-md bg-gray px-3 py-2 text-sm font-semibold text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-zinc-800 cursor-pointer\">\r\n                    <svg className=\"h-5 w-5 text-gray-300\"  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\"/>\r\n                    </svg>\r\n                        Export\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            {\r\n                isError ? \r\n                <div className=\"bg-zinc-800 overflow-y-scroll border-2 rounded-md text-red-500 border-zinc-700 h-60 mt-2 px-2 py-1 \">\r\n                    {\r\n                        Array.isArray(output) ? output.map((line, i) => <div key={i}>{line}</div>) : <div>Click \"Run Code\" to see output here</div>\r\n                    }\r\n                </div>\r\n                :\r\n                <div className=\"bg-zinc-800 overflow-y-scroll border-2 rounded-md text-gray-300 border-zinc-700 h-60 mt-2 px-2 py-1 \">\r\n                    {\r\n                        Array.isArray(output) ? output.map((line, i) => <div key={i}>{line}</div>) : <div>Click \"Run Code\" to see output here</div>\r\n                    }\r\n                </div>\r\n            }\r\n        \r\n            <ToastContainer/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Output"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,WAAW,KAAM,OAAO,CAC/B,OAASC,cAAc,CAAEC,KAAK,CAAEC,MAAM,KAAQ,gBAAgB,CAC9D,MAAO,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAG/C,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAA2B,IAA1B,CAACC,SAAS,CAAEC,QAAQ,CAAC,CAAAF,IAAA,CACjC,KAAM,CAACG,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACiB,OAAO,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACmB,SAAS,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAAAqB,OAAO,CAAG,KAAAA,CAAA,GAAY,CACxB,KAAM,CAAAC,IAAI,CAAGT,SAAS,CAACU,OAAO,CAACC,QAAQ,CAAC,CAAC,CACzC,GAAG,CAACF,IAAI,CAAE,OACV,GAAG,CACCF,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAACK,GAAG,CAAEC,MAAM,CAAC,CAAG,KAAM,CAAAzB,WAAW,CAACa,QAAQ,CAAEQ,IAAI,CAAC,CACvDN,SAAS,CAACU,MAAM,CAACX,MAAM,CAACY,KAAK,CAAC,IAAI,CAAC,CAAC,CACpC,GAAGD,MAAM,CAACE,MAAM,CAAC,CACbV,QAAQ,CAAC,IAAI,CAAC,CAClB,CAAC,IACG,CACAA,QAAQ,CAAC,KAAK,CAAC,CACnB,CACJ,CACA,MAAMW,KAAK,CAAC,CACRb,SAAS,CAACa,KAAK,CAACC,OAAO,CAAC,CACxB3B,KAAK,CAAC0B,KAAK,CAACA,KAAK,CAACC,OAAO,CAAE,CACvBC,QAAQ,CAAE,YAAY,CACtBC,SAAS,CAAE,IAAI,CACfC,eAAe,CAAE,KAAK,CACtBC,YAAY,CAAE,KAAK,CACnBC,YAAY,CAAE,KAAK,CACnBC,SAAS,CAAE,KAAK,CAChBC,QAAQ,CAAEC,SAAS,CACnBC,KAAK,CAAE,MAAM,CACbC,UAAU,CAAEpC,MAChB,CAAC,CAAC,CACN,CAAC,OACM,CACHgB,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAEL,KAAM,CAAAqB,UAAU,CAAIC,KAAK,EAAK,CAC1B,KAAM,CAAAC,OAAO,CAAG5B,MAAM,CAGtB,GAAG4B,OAAO,CAAC,CACP,KAAM,CAAAjB,MAAM,CAAG,eAAeb,SAAS,CAACU,OAAO,CAACC,QAAQ,CAAC,CAAC,uBAAuBmB,OAAO,KAAK,CAC7F,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACnB,MAAM,CAAC,CAAE,CAAEoB,IAAI,CAAE,YAAa,CAAC,CAAC,CACvD,KAAM,CAAAC,GAAG,CAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC,CAErC,KAAM,CAAAM,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGN,GAAG,CACZG,CAAC,CAACI,QAAQ,CAAG,SAAS,CAAE,KAAK,CAE7BH,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,CAAC,CAAC,CAC5BA,CAAC,CAACO,KAAK,CAAC,CAAC,CAETN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,CAAC,CAAC,CAC5BF,GAAG,CAACW,eAAe,CAACZ,GAAG,CAAC,CAC5B,CAAC,IACG,CACA5C,KAAK,CAAC0B,KAAK,CAAC,kBAAkB,CAAE,CAC5BE,QAAQ,CAAE,YAAY,CACtBC,SAAS,CAAE,IAAI,CACfC,eAAe,CAAE,KAAK,CACtBC,YAAY,CAAE,KAAK,CACnBC,YAAY,CAAE,KAAK,CACnBC,SAAS,CAAE,KAAK,CAChBC,QAAQ,CAAEC,SAAS,CACnBC,KAAK,CAAE,MAAM,CACbC,UAAU,CAAEpC,MAChB,CAAC,CAAC,CACN,CACJ,CAAC,CAGG,mBACII,KAAA,CAAAE,SAAA,EAAAkD,QAAA,eAEIpD,KAAA,QAAKqD,SAAS,CAAC,4CAA4C,CAAAD,QAAA,eACvDtD,IAAA,QAAKuD,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAEjCzC,SAAS,cAAIX,KAAA,WAAQqD,SAAS,CAAC,kLAAkL,CAAAD,QAAA,eAC7MpD,KAAA,QAAKqD,SAAS,CAAC,sBAAsB,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAAAH,QAAA,eACjEtD,IAAA,SAAM0D,QAAQ,CAAC,SAAS,CAACC,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,gQAAgQ,CAACC,MAAM,CAAC,SAAS,CAACC,WAAW,CAAC,KAAK,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAC,CAAC,cAChYhE,IAAA,SAAM4D,CAAC,CAAC,+MAA+M,CAACC,MAAM,CAAC,MAAM,CAACC,WAAW,CAAC,KAAK,CAACC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAC,CAAC,EACrS,CAAC,cACFhE,IAAA,SAAAsD,QAAA,CAAM,SAAO,CAAM,CAAC,EACpB,CAAC,cACTtD,IAAA,WAAQuD,SAAS,CAAC,kLAAkL,CACpMU,OAAO,CAAElD,OAAQ,CAAAuC,QAAA,cACTtD,IAAA,SAAAsD,QAAA,CAAM,KAAG,CAAM,CAAC,CAChB,CAAC,CAER,CAAC,cACNtD,IAAA,QAAKuD,SAAS,CAAC,gBAAgB,CAAAD,QAAA,cAC3BpD,KAAA,UAAO+D,OAAO,CAAE9B,UAAW,CAACoB,SAAS,CAAC,2JAA2J,CAAAD,QAAA,eACjMtD,IAAA,QAAKuD,SAAS,CAAC,uBAAuB,CAAEE,IAAI,CAAC,MAAM,CAACD,OAAO,CAAC,WAAW,CAACK,MAAM,CAAC,cAAc,CAAAP,QAAA,cACzFtD,IAAA,SAAM+D,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACF,WAAW,CAAC,GAAG,CAACF,CAAC,CAAC,gEAAgE,CAAC,CAAC,CACtI,CAAC,SAEN,EAAO,CAAC,CACP,CAAC,EACL,CAAC,CAGFjD,OAAO,cACPX,IAAA,QAAKuD,SAAS,CAAC,qGAAqG,CAAAD,QAAA,CAE5GY,KAAK,CAACC,OAAO,CAAC1D,MAAM,CAAC,CAAGA,MAAM,CAAC2D,GAAG,CAAC,CAACC,IAAI,CAAEC,CAAC,gBAAKtE,IAAA,QAAAsD,QAAA,CAAce,IAAI,EAARC,CAAc,CAAC,CAAC,cAAGtE,IAAA,QAAAsD,QAAA,CAAK,uCAAmC,CAAK,CAAC,CAE9H,CAAC,cAENtD,IAAA,QAAKuD,SAAS,CAAC,sGAAsG,CAAAD,QAAA,CAE7GY,KAAK,CAACC,OAAO,CAAC1D,MAAM,CAAC,CAAGA,MAAM,CAAC2D,GAAG,CAAC,CAACC,IAAI,CAAEC,CAAC,gBAAKtE,IAAA,QAAAsD,QAAA,CAAce,IAAI,EAARC,CAAc,CAAC,CAAC,cAAGtE,IAAA,QAAAsD,QAAA,CAAK,uCAAmC,CAAK,CAAC,CAE9H,CAAC,cAGVtD,IAAA,CAACJ,cAAc,GAAC,CAAC,EACnB,CAAC,CAEX,CAAC,CAED,cAAe,CAAAS,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}